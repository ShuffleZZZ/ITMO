# Задача «Аркадию пора на лекцию»

## Основное задание

После криминальной интриги с участием друзей Аркадий возвращается в мрачные стены университета —
время слушать лекцию и впитывать новые знания.

В файле [index.js](./src/index.js) вас ждут студенты, готовые внимать каждому слову преподавателя:

```javascript
const students = {
  Sam: {
    focus: 100,
    wisdom: 50
  },
  Daria: {
    focus: 100,
    wisdom: 60
  }
};
```

И преподаватель Сергей, который вот-вот начнёт лекцию и покажет первый слайд с бесценной информацией.

```javascript
lecturer.on('begin', students.Sam, function() {
  // Внимательно слушаем преподователя
  this.focus += 10;
});

lecturer.on('slide', students.Daria, function() {
  // И впитываем мудрость с каждым слайдом
  this.wisdom += 10;
});
```

Студента можно подписать на событие, производимое преподавателем (например, начало лекции или показ нового слайда) —
то есть указать, какая функция должна быть вызвана при наступлении этого события.

Ваша задача — реализовать несколько методов:

- подписка на событие — `on`;
- отписка от события — `off`;
- вызов события — `emit`.

Чтобы задание не казалось совсем простым, вам также нужно реализовать поддержку пространства имён для событий.

```javascript
// ...

lecturer.on('slide', students.Sam, function() {
  // И впитываем мудрость с каждым слайдом
  this.wisdom += 10;
});

lecturer.on('slide.funny', students.Sam, function() {
  this.wisdom -= 5;
});
```

Примеры использования можно посмотреть в **src/index.js** и в тестах.

**Дополнительные условия и ограничения:**

- События должны возникать в том порядке, в котором на них подписывались;
- На одно событие с одинаковыми объектами и обработчиками можно подписаться неограниченное количество раз.
  Обработчики вызываются в порядке подписки;
- Пространства имён разделены только точкой:
  - на событие `slide.funny` произойдут события `slide.funny` и `slide` (именно в таком порядке);
  - на событие `slidee` произойдет `slidee`, но не `slide`;
  - отписка от `slide.funny` отписывает только от него;
  - отписка от `slide` отписывает и от `slide`, и от `slide.funny`.

## Дополнительное задание

Необходимо реализовать два дополнительных метода эмиттера. Оба метода работают аналогично `on`,
но обладают некоторыми особенностями:

- `several` — подписывает на первые n событий;
- `through` — подписывает на каждое n-ое событие, начиная с первого.

При отрицательном или нулевом значении `through` и `several` начинают работать, как `on`.

Примеры использования этих методов можно посмотреть в **src/index.js** и в тестах.

## Доступные команды

Запускаются так: `npm run <command>`

| Команда       | Действие                                |
| ------------- | --------------------------------------- |
| start         | Запуск src/index.js                     |
| test          | Запуск всех тестов                      |
| test:watch    | Запуск тестов при изменении кода        |
| test:coverage | Проверка уровня покрытия кода тестами   |
| lint          | Проверка кода линтером                  |
| lint-fix      | Исправление ошибок, выявленных линтером |
| format        | Форматирование кода                     |

## Полезные ссылки

- [Продвинутая работа с функциями](https://learn.javascript.ru/advanced-functions)
- [Метод call для функций](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call)
- [Метод apply для функций](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/apply)
- [Метод bind для функций](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/bind)
